---
title: 多面体模型
date: 2025-1-15  # HH:MM:SS +/-TTTT
categories: [CS, compiler]
tags: [编译器, 多面体模型]    
description: 关于多面体模型的笔记
---

## 多面体模型
### 一个例子
```python
for i in range(1,4):
    A[i] = A[i-1]


for i in range(4,1,-1):
    A[i] = A[i-1]
```
这两组循环显然是不能转换的，多面体模型研究的就是在什么情况下是可以转换的。

### 时间表
时间表（schedule）是多面体模型的核心概念之一。时间表定义了每个语句在执行时的时间点。通过调整时间表，可以实现循环变换、并行化等优化。在上面的例子中，我们可以为每个语句定义一个时间表：
- 语句1（`A[i] = A[i-1]`）的时间表：T1(i) = i
- 语句2（`A[i] = A[i-1]`）的时间表：T2(i) = 4 - i   
只有当第二个时间表中语句的数据依赖关系与第一个时间表中语句的数据依赖关系一致时，才能进行转换。即在0 <= i <= 3范围内，T1(i) < T1(i-1) 与 T2(i) < T2(i-1) 必须同时成立。带入到上面的时间表中，可以发现两者并不一致，因此不能进行转换。